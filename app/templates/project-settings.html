{% extends 'base.html' %}
{% load static %}

{% block title %} Project settings {% endblock%}

{% block main %}
<!-- SIDEBAR -->
	<div class="container-fluid">
		<div class="row flex-nowrap">
			<div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-body-tertiary border-end">
				<div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">

					<ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start"
						id="menu">
						<li class="nav-item">
							<a href="{% url 'boards' project_id %}" class="nav-link px-0 align-middle text-secondary">
								<i class="fs-4 bi bi-kanban icon-color"></i>
								<span class="ms-1 d-none d-sm-inline">Board</span>
							</a>
						</li>

						<li>
							<a href="{% url 'project-settings' project_id %}" class="nav-link px-0 align-middle text-secondary">
								<i class="fs-4 bi bi-gear-wide icon-color"></i>
								<span class="ms-1 d-none d-sm-inline">Project setting</span>
							</a>
						</li>
					</ul>
				</div>
			</div>

<!-- MAIN CONTENT -->
			<div class="col py-3 mx-1" style="text-align: justify;">

<!-- BREADCRUMB -->
				<nav aria-label="Breadcrumb">
					<ol class="breadcrumb">

						<li class="breadcrumb-item">
							<a class="link-offset-2 link-secondary link-offset-3-hover link-underline 
								link-underline-opacity-0 link-underline-opacity-75-hover" href="{% url 'projects' %}">
								Projects
							</a>
						</li>

						<li class="breadcrumb-item active">
							<a class="link-offset-2 link-secondary link-offset-3-hover link-underline 
			                    link-underline-opacity-0 link-underline-opacity-75-hover" href="{% url 'boards' project_id %}">
								{{ project.name }}
							</a>
						</li>

						<li class="breadcrumb-item active">
							<a class="link-offset-2 link-secondary link-offset-3-hover link-underline 
								link-underline-opacity-0 link-underline-opacity-75-hover" href="{% url 'project-settings' project_id %}">
								Project settings
							</a>
						</li>
					</ol>
				</nav>

<!-- PROJECT DETAILS -->
				<div class="row mt-2">
					<div class="container ms-3 mb-2">
						<div class="row justify-content-between text-start">
							<div class="col-sm-4">
								<h4 class="h4 fw-normal">Details</h4>
							</div>
						</div>
					</div>

					<div class="ms-3">
						<form action="{% url 'project-settings' project_id %}" method="post">
							{% csrf_token %}
							<div class="col-2">
								{{ project_form.as_p }}
							</div>

							<div class="col-4 mt-3">
								<a href="#" 
									class="link-danger link-offset-2-hover link-underline-opacity-0 link-underline-opacity-100-hover"
									data-bs-toggle="modal" data-bs-target="#staticBackdropDelete">
									Delete project
								</a>
							</div>

							<div class="mt-3">
								<button class="btn btn-primary" type="submit">Save</button>
							</div>
						</form>
					</div>
				</div>
					
<!-- CREATE ISSUE MODAL -->
	<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" tabindex="-1"
		aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
	
				<div class="modal-header">
					<h1 class="modal-title fs-5 text-secondary" id="staticBackdropLabel">Create issue</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
	
				<div class="modal-body">
	
					<div class="container-fluid">
						<div class="row">
							<div class="col-md-6">
								<p class="text-secondary m-0 text-start">Project*</p>
								<select class="form-select form-select-sm bg-body-tertiary"
									aria-label="form-select-sm projectName" required>
									{% for project in projects_list %}
									<option value="{{project.id}}">
										{{ project.name }}
									</option>
									{% endfor %}
								</select>
							</div>
						</div>
	
						<div class="row mt-4">
							<div class="col-md-6">
								<p class="text-secondary m-0 text-start">Type issue*</p>
								<select class="form-select form-select-sm bg-body-tertiary"
									aria-label="form-select-sm projectName" required>
									{% for issue_type in issue_types_list %}
									<option value="{{ issue_type.id }}">
										{{ issue_type.name }}
									</option>
									{% endfor %}
								</select>
							</div>
						</div>
	
						<div class="row mt-4">
							<div class="col-md-6">
								<p class="text-secondary m-0 text-start">Issue priority*</p>
								<select class="form-select form-select-sm bg-body-tertiary"
									aria-label="form-select-sm projectName" required>
									{% for issue_priority in issue_priority_list %}
									<option value="{{ issue_type.id }}">
										{{ issue_priority.name }}
									</option>
									{% endfor %}
								</select>
							</div>
						</div>
	
						<hr class="border-1 mt-4">
	
						<div class="row">
							<div class="col-md-12">
								<p class="text-secondary m-0 text-start">Summary*</p>
								<input type="text" class="form-control bg-body-tertiary" aria-label="Sizing example input"
									aria-describedby="inputGroup-sizing-default" required>
							</div>
						</div>
	
						<div class="row mt-4">
							<div class="col-md-12">
								<p class="text-secondary m-0 text-start">Description</p>
								<div class="form-outline mb-3">
									<textarea class="form-control w-100 bg-body-tertiary" id="textAreaExample5"
										rows="5"></textarea>
								</div>
	
							</div>
						</div>
	
						<div class="row mt-2">
							<div class="col-md-6">
								<p class="text-secondary m-0 text-start">Due date</p>
								<form>
									<div class="form-group">
										<input type="date" class="form-control bg-body-tertiary">
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
	
				<div class="modal-footer">
					<a href="{% url 'boards' project.id %}">
						<button type="button" class="btn btn-primary">Create</button>
					</a>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
